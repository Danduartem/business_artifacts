<task id="bmad/lp-architect/tasks/matrix-calculator.xml" name="Matrix Calculator" standalone="false">
  <objective>Calculate architecture requirements based on 3D matrix position (Awareness × Price × Complexity)</objective>

  <llm critical="true">
    <mandate>Apply the 3D matrix logic systematically to determine optimal architecture structure</mandate>
    <mandate>Section count and emphasis must match the matrix position exactly</mandate>
  </llm>

  <inputs>
    <input name="awareness_level" required="true">Unaware | Problem-aware | Solution-aware | Product-aware</input>
    <input name="price_tier" required="true">Low ($0-$50) | Medium ($50-$500) | High ($500+)</input>
    <input name="complexity_level" required="true">Simple | Moderate | Complex</input>
  </inputs>

  <logic>
    <step n="1" title="Calculate Base Section Count">
      <rule>Start with baseline section count based on awareness level:</rule>
      <mapping>
        <awareness level="product-aware">Base: 4-5 sections (minimal education needed)</awareness>
        <awareness level="solution-aware">Base: 6-8 sections (comparison/differentiation focus)</awareness>
        <awareness level="problem-aware">Base: 8-10 sections (solution education needed)</awareness>
        <awareness level="unaware">Base: 10-12 sections (problem + solution education)</awareness>
      </mapping>
    </step>

    <step n="2" title="Adjust for Price Tier">
      <rule>Price tier affects proof requirements - add sections for credibility:</rule>
      <adjustment>
        <price tier="low">+0 sections (minimal proof needed)</price>
        <price tier="medium">+1-2 sections (solid proof required)</price>
        <price tier="high">+2-4 sections (extensive proof, case studies, risk reversal)</price>
      </adjustment>
    </step>

    <step n="3" title="Adjust for Complexity">
      <rule>Complexity affects explanation depth - add sections for clarity:</rule>
      <adjustment>
        <complexity level="simple">+0 sections (straightforward value prop)</complexity>
        <complexity level="moderate">+1-2 sections (some breakdown needed)</complexity>
        <complexity level="complex">+2-3 sections (detailed explanation required)</complexity>
      </adjustment>
    </step>

    <step n="4" title="Determine Required Section Types">
      <action>Based on matrix position, specify which section types are required:</action>

      <awareness-based-sections>
        <if condition="unaware">
          <required>Problem Agitation</required>
          <required>Problem Education</required>
          <required>Solution Category Introduction</required>
        </if>
        <if condition="problem-aware">
          <required>Solution Education</required>
          <required>Approach Differentiation</required>
        </if>
        <if condition="solution-aware">
          <required>Why Us vs Them</required>
          <required>Feature Comparison</required>
        </if>
        <if condition="product-aware">
          <required>Quick Confirmation</required>
          <required>Objection Removal</required>
        </if>
      </awareness-based-sections>

      <price-based-sections>
        <if condition="high">
          <required>Deep Social Proof (case studies)</required>
          <required>Authority Signals</required>
          <required>Risk Reversal</required>
          <required>ROI Justification</required>
        </if>
        <if condition="medium">
          <required>Social Proof (testimonials)</required>
          <required>Trust Signals</required>
        </if>
        <if condition="low">
          <optional>Light Social Proof</optional>
        </if>
      </price-based-sections>

      <complexity-based-sections>
        <if condition="complex">
          <required>How It Works (detailed)</required>
          <required>Component Breakdown</required>
          <required>Implementation Clarity</required>
        </if>
        <if condition="moderate">
          <required>How It Works (overview)</required>
        </if>
        <if condition="simple">
          <optional>Quick Benefit List</optional>
        </if>
      </complexity-based-sections>

      <universal-sections>
        <required>Hero/Value Proposition</required>
        <required>Transformation/Outcome</required>
        <required>Clear CTA</required>
      </universal-sections>
    </step>

    <step n="5" title="Define Emphasis Areas">
      <action>Determine what should be emphasized based on matrix:</action>

      <awareness-emphasis>
        <if condition="unaware">Emphasize: Problem education before solution</if>
        <if condition="problem-aware">Emphasize: Solution differentiation</if>
        <if condition="solution-aware">Emphasize: Competitive advantages</if>
        <if condition="product-aware">Emphasize: Remove final barriers</if>
      </awareness-emphasis>

      <price-emphasis>
        <if condition="high">Emphasize: Trust, credibility, risk reduction</if>
        <if condition="medium">Emphasize: Value justification, proof</if>
        <if condition="low">Emphasize: Quick value, minimal friction</if>
      </price-emphasis>

      <complexity-emphasis>
        <if condition="complex">Emphasize: Clarity, simplification, education</if>
        <if condition="moderate">Emphasize: Clear process, benefits</if>
        <if condition="simple">Emphasize: Speed, ease, immediate value</if>
      </complexity-emphasis>
    </step>

    <step n="6" title="Sequence Principles">
      <action>Define how sections should be ordered based on matrix:</action>

      <sequencing-rules>
        <rule>Always start with immediate clarity (Hero/Value Prop)</rule>
        <rule>Education before persuasion (if unaware/problem-aware)</rule>
        <rule>Emotional hook before logical proof</rule>
        <rule>Build trust before asking for commitment</rule>
        <rule>Address objections before final CTA</rule>
        <rule>Progressive revelation - information depth increases with commitment</rule>
      </sequencing-rules>
    </step>

    <step n="7" title="Calculate Word Count Per Section">
      <action>Determine word count ranges for each section based on matrix position:</action>

      <word-count-principles>
        <principle>High-ticket offers require more copy (trust takes words to build)</principle>
        <principle>Low awareness requires more education (more words)</principle>
        <principle>Complex offers need more explanation (more words)</principle>
        <principle>Action sections (Hero, CTA, Guarantee) should be concise for impact</principle>
        <principle>Storytelling sections (Authority, Problem) need space to develop</principle>
        <principle>Mobile-first means shorter paragraphs, not necessarily fewer total words</principle>
      </word-count-principles>

      <total-word-count-by-price>
        <price tier="low">Total: 800-1,500 words (quick decision, minimal proof needed)</price>
        <price tier="medium">Total: 1,500-2,500 words (moderate proof and education)</price>
        <price tier="high">Total: 2,000-4,000 words (extensive trust-building required)</price>
        <price tier="high-with-call-cta">Total: 2,000-3,000 words (less than direct sale - leave curiosity for call)</price>
      </total-word-count-by-price>

      <section-word-count-ranges>
        <section type="Hero/Value Proposition">50-100 words (impact over explanation)</section>
        <section type="Problem Agitation">150-350 words (needs depth to resonate)</section>
        <section type="Transformation/Outcome">100-200 words (visual + emotional hook)</section>
        <section type="Solution Introduction">150-250 words (clear positioning)</section>
        <section type="How It Works/Method">150-300 words (clarity, not overwhelm)</section>
        <section type="Authority/Founder Story">250-450 words (storytelling needs space)</section>
        <section type="Social Proof/Testimonials">200-400 words (3-5 testimonials × 50-80 words each)</section>
        <section type="Process/Journey">100-200 words (steps should be scannable)</section>
        <section type="Objection Handling/FAQ">250-450 words (4-6 objections × 50-80 words each)</section>
        <section type="Risk Reversal/Guarantee">60-120 words (clarity beats verbosity)</section>
        <section type="Final CTA">60-120 words (action moment, not explanation)</section>
        <section type="Footer/Trust">40-80 words (functional, not persuasive)</section>
      </section-word-count-ranges>

      <awareness-adjustments>
        <if condition="unaware">Add 20-30% more words to education sections</if>
        <if condition="problem-aware">Standard word counts apply</if>
        <if condition="solution-aware">Reduce education sections by 10-20%, increase comparison sections</if>
        <if condition="product-aware">Reduce total by 20-30% - they need less convincing</if>
      </awareness-adjustments>

      <complexity-adjustments>
        <if condition="complex">Add 20-30% more words to How It Works and Method sections</if>
        <if condition="moderate">Standard word counts apply</if>
        <if condition="simple">Reduce explanation sections by 15-25%</if>
      </complexity-adjustments>
    </step>
  </logic>

  <outputs>
    <output name="section_count_range">Final calculated section count (e.g., "8-10 sections")</output>
    <output name="required_sections">List of specific section types needed for this matrix position</output>
    <output name="emphasis_areas">What should be emphasized (education/proof/clarity focus)</output>
    <output name="sequence_principles">Ordering guidelines specific to this matrix position</output>
    <output name="matrix_summary">Clear explanation of how this matrix position determines architecture</output>
    <output name="total_word_count_range">Total recommended word count for entire LP (e.g., "2,000-2,500 words")</output>
    <output name="word_count_per_section">Word count range for each section with justification</output>
  </outputs>

  <validation>
    <check>Section count is appropriate for matrix position</check>
    <check>All universal sections included</check>
    <check>Awareness-specific sections present</check>
    <check>Price-appropriate proof levels specified</check>
    <check>Complexity-appropriate explanation depth defined</check>
    <check>Word count ranges provided for every section</check>
    <check>Total word count matches price tier and CTA type</check>
  </validation>
</task>
