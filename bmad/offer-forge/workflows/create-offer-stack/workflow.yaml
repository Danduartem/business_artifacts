# Create Offer Stack Workflow Configuration
# Generated by BMAD Workflow Builder
# Module: offer-forge
# Version: 1.0.0
# Date: 2025-11-04

workflow:
  name: create-offer-stack
  description: Build a complete 3-tier offer stack with strategic positioning, compelling messaging, and psychologically optimized pricing through collaborative agent orchestration
  author: Daniel
  version: 1.0.0
  module: offer-forge
  type: document

  config_source: "{project-root}/bmad/offer-forge/config.yaml"

  # Standard config variables (BMAD v6 required)
  output_folder: "{config_source}:output_folder"
  user_name: "{config_source}:user_name"
  communication_language: "{config_source}:communication_language"
  date: system-generated

  installed_path: "{project-root}/bmad/offer-forge/workflows/create-offer-stack"

  # Main offer stack document template
  template: "{installed_path}/template.md"

  # Workflow execution instructions
  instructions: "{installed_path}/instructions.md"

  # Additional deliverable templates
  additional_templates:
    offer_sheets:
      - "{installed_path}/templates/offer-sheet-entry.md"
      - "{installed_path}/templates/offer-sheet-core.md"
      - "{installed_path}/templates/offer-sheet-premium.md"
    pricing_strategy: "{installed_path}/templates/pricing-strategy-document.md"
    objection_handling: "{installed_path}/templates/objection-handling-guide.md"

  # This workflow can be invoked directly via hub agent
  standalone: true

  # Output configuration
  output:
    location: "{output_folder}"
    naming_pattern: "{business_name}-{document_type}.md"

  # Documentation: Required agents (invoked by name in instructions, not by path)
  dependencies:
    agents:
      - "{project-root}/bmad/offer-forge/agents/offer-architect.agent.yaml"
      - "{project-root}/bmad/offer-forge/agents/value-proposition-specialist.agent.yaml"
      - "{project-root}/bmad/offer-forge/agents/pricing-strategist.agent.yaml"
      - "{project-root}/bmad/offer-forge/agents/senior-offer-specialist.agent.yaml"

  # Documentation: Template variables (not validated during execution, for reference only)
  variables:
    # Phase 1: Business Context
    - business_name
    - business_description
    - industry_category
    - target_audience
    - core_transformation
    - current_pricing_model
    - competitive_landscape
    - unique_advantages

    # Phase 2: Offer Architecture (from Offer Architect agent)
    - stack_structure  # 2-tier or 3-tier
    - entry_tier_details
    - core_tier_details
    - premium_tier_details
    - value_ladder_map
    - tier_differentiation

    # Phase 3: Value Propositions (from Value Prop Specialist agent)
    - entry_transformation_narrative
    - core_transformation_narrative
    - premium_transformation_narrative
    - entry_usps
    - core_usps
    - premium_usps
    - objection_responses
    - awareness_level_messaging

    # Phase 4: Pricing Strategy (from Pricing Strategist agent)
    - entry_price_final
    - core_price_final
    - premium_price_final
    - pricing_psychology_rationale
    - payment_options
    - value_anchoring_strategy

    # Phase 5: Validation Results (from Senior Offer Specialist)
    - validation_status
    - validation_feedback
    - final_quality_score

    # Metadata
    - creation_date
    - workflow_version

  # Documentation: Workflow phases (not programmatically enforced in instructions)
  phases:
    - id: context_gathering
      name: "Context Gathering"
      description: "Collect business context and transformation goals"
      interaction_level: high

    - id: offer_architecture
      name: "Offer Architecture"
      description: "Design complete offer stack with all 12 elements"
      agent: offer-architect
      interaction_level: low

    - id: value_propositions
      name: "Value Propositions & Messaging"
      description: "Craft transformation narratives and compelling copy"
      agent: value-proposition-specialist
      interaction_level: low

    - id: pricing_strategy
      name: "Pricing Strategy & Optimization"
      description: "Apply pricing psychology and optimize price points"
      agent: pricing-strategist
      interaction_level: low

    - id: validation
      name: "Quality Validation & Refinement"
      description: "Validate offer stack and run correction loops if needed"
      agent: senior-offer-specialist
      interaction_level: low
      conditional: true  # May loop based on validation results

    - id: deliverable_generation
      name: "Generate Final Deliverables"
      description: "Create all 4 core deliverable documents"
      interaction_level: low

  # Web bundle configuration for sharing/distribution
  web_bundle:
    name: "create-offer-stack"
    description: "Build complete 3-tier offer stack with strategic positioning, compelling messaging, and psychologically optimized pricing"
    files:
      - "bmad/offer-forge/workflows/create-offer-stack/workflow.yaml"
      - "bmad/offer-forge/workflows/create-offer-stack/instructions.md"
      - "bmad/offer-forge/workflows/create-offer-stack/template.md"
      - "bmad/offer-forge/workflows/create-offer-stack/templates/offer-sheet-entry.md"
      - "bmad/offer-forge/workflows/create-offer-stack/templates/offer-sheet-core.md"
      - "bmad/offer-forge/workflows/create-offer-stack/templates/offer-sheet-premium.md"
      - "bmad/offer-forge/workflows/create-offer-stack/templates/pricing-strategy-document.md"
      - "bmad/offer-forge/workflows/create-offer-stack/templates/objection-handling-guide.md"
    agents_required:
      - "bmad/offer-forge/agents/offer-architect.agent.yaml"
      - "bmad/offer-forge/agents/value-proposition-specialist.agent.yaml"
      - "bmad/offer-forge/agents/pricing-strategist.agent.yaml"
      - "bmad/offer-forge/agents/senior-offer-specialist.agent.yaml"
