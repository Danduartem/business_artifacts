{
  "$schema": "./registry.schema.json",
  "version": "2.0.0",
  "lastUpdated": "2025-11-19",
  "description": "Lightweight job-level catalog for progressive disclosure. Load this instead of full registry.json to save 93% tokens.",
  "jobs": {
    "instagram": {
      "description": "Instagram content extraction jobs",
      "tools": [
        {
          "id": "job.instagram.complete-profile-extraction",
          "name": "Complete Profile Extraction",
          "path": "capabilities/jobs/instagram/complete-profile-extraction.js",
          "description": "Complete pipeline: Get post URLs → Extract full post data → Download media → Transcribe videos",
          "when": "User wants to extract Instagram posts with full metadata, media downloads, and video transcription. Handles entire workflow from profile to final export.",
          "orchestrates": [
            "instagram.extract-profile-posts-puppeteer",
            "instagram.extract-post-full",
            "media.download-and-transcribe"
          ],
          "features": [
            "Date range filtering (start-date to end-date)",
            "Chrome profile support (--profile)",
            "Automatic video transcription (default: true)",
            "Resume capability (--resume)",
            "Dry-run validation (--dry-run)",
            "Checkpointing after each stage",
            "Progress logging",
            "JSON export"
          ],
          "example": "node capabilities/jobs/instagram/complete-profile-extraction.js --username berudolph --start-date 2025-11-01 --end-date 2025-11-30 --profile",
          "runtime": "1-8 hours depending on post count and video duration"
        },
        {
          "id": "job.instagram.bulk-content-extraction",
          "name": "Bulk Content Extraction",
          "path": "capabilities/jobs/instagram/bulk-content-extraction.js",
          "description": "Extract posts from MULTIPLE profiles, download media, transcribe videos, and export to structured format",
          "when": "User wants to extract content from multiple Instagram profiles simultaneously with transcription and export. Ideal for batch operations.",
          "orchestrates": [
            "instagram.extract-profile",
            "media.download-and-transcribe",
            "content.format-export"
          ],
          "features": [
            "Multi-profile support (array of usernames)",
            "Date range filtering",
            "Multiple output formats (json, csv, markdown)",
            "Optional story extraction",
            "Resume capability (--resume)",
            "Dry-run validation (--dry-run)",
            "Stage-based checkpointing",
            "Progress tracking",
            "Detailed summary statistics"
          ],
          "example": "node capabilities/jobs/instagram/bulk-content-extraction.js --profiles '[\"user1\",\"user2\"]' --start-date 2025-11-01 --end-date 2025-11-30 --output-format json",
          "runtime": "3-13 hours depending on profile count, post volume, and media size"
        },
        {
          "id": "job.instagram.process-existing-urls",
          "name": "Process Existing URLs",
          "path": "capabilities/jobs/instagram/process-existing-urls.js",
          "description": "Process already-extracted Instagram post URLs to get full post data",
          "when": "User already has a list of Instagram URLs and wants to extract full metadata without re-scraping profiles",
          "orchestrates": [
            "instagram.extract-post-full"
          ],
          "features": [
            "Reads URLs from existing file",
            "Extracts full post data",
            "No profile scraping overhead",
            "Progress tracking"
          ],
          "example": "node capabilities/jobs/instagram/process-existing-urls.js --input urls.json --output posts.json",
          "runtime": "30 minutes - 2 hours depending on URL count"
        }
      ]
    }
  },
  "workflows": {
    "media": {
      "description": "Media processing workflows",
      "tools": [
        {
          "id": "workflow.media.download-and-transcribe",
          "name": "Download and Transcribe",
          "path": "capabilities/workflows/media/download-and-transcribe.js",
          "description": "Download video/audio from URL and transcribe using Whisper",
          "when": "User needs to transcribe a single video or audio file",
          "example": "node capabilities/workflows/media/download-and-transcribe.js --url 'https://example.com/video.mp4' --language pt"
        }
      ]
    },
    "instagram": {
      "description": "Instagram extraction workflows",
      "tools": [
        {
          "id": "workflow.instagram.extract-profile-posts-puppeteer",
          "name": "Extract Profile Posts",
          "path": "capabilities/workflows/instagram/extract-profile-posts-puppeteer.js",
          "description": "Extract post URLs from Instagram profile within date range using Puppeteer",
          "when": "User needs to get post URLs from a single profile (first step before full extraction)",
          "example": "node capabilities/workflows/instagram/extract-profile-posts-puppeteer.js --username berudolph --start-date 2025-11-01 --end-date 2025-11-30"
        },
        {
          "id": "workflow.instagram.extract-post-full",
          "name": "Extract Full Post",
          "path": "capabilities/workflows/instagram/extract-post-full.js",
          "description": "Extract complete metadata from a single Instagram post URL",
          "when": "User has a specific post URL and wants full metadata",
          "example": "node capabilities/workflows/instagram/extract-post-full.js --url 'https://instagram.com/p/ABC123/'"
        }
      ]
    },
    "content": {
      "description": "Content processing workflows",
      "tools": [
        {
          "id": "workflow.content.save-instagram-to-airtable",
          "name": "Save to Airtable",
          "path": "capabilities/workflows/content/save-instagram-to-airtable.js",
          "description": "Export Instagram posts to Airtable with structured fields",
          "when": "User wants to save extracted Instagram data to Airtable",
          "example": "node capabilities/workflows/content/save-instagram-to-airtable.js --posts posts.json --table 'Instagram Posts'"
        }
      ]
    }
  },
  "usage": {
    "recommendation": "For most use cases, start with JOBS (not primitives or workflows). Jobs orchestrate entire pipelines with built-in checkpointing and resume capability.",
    "progressive_disclosure": {
      "description": "This lite registry shows only high-level jobs and workflows. Agents should NOT read the full registry.json unless they need to compose custom workflows from primitives.",
      "when_to_load_full_registry": [
        "Building a new custom workflow",
        "Debugging primitive-level issues",
        "Understanding available atomic operations"
      ],
      "token_savings": "Loading this file: ~1,500 tokens. Loading full registry.json: ~8,000 tokens. Savings: 81%"
    },
    "help_flags": "All tools support --help flag for detailed usage information. Use this for on-demand discovery of parameters.",
    "full_catalog_location": "core/registry.json"
  },
  "common_use_cases": {
    "instagram_extraction_with_transcription": {
      "tool": "job.instagram.complete-profile-extraction",
      "example": "node capabilities/jobs/instagram/complete-profile-extraction.js --username berudolph --start-date 2025-11-01 --end-date 2025-11-30 --profile --resume",
      "description": "Extract Instagram posts, download videos, transcribe them, and export to JSON. Includes automatic checkpointing and resume capability."
    },
    "multi_profile_extraction": {
      "tool": "job.instagram.bulk-content-extraction",
      "example": "node capabilities/jobs/instagram/bulk-content-extraction.js --profiles '[\"user1\",\"user2\",\"user3\"]' --start-date 2025-11-01 --end-date 2025-11-30",
      "description": "Process multiple Instagram profiles in one operation with transcription and export."
    },
    "transcribe_single_video": {
      "tool": "workflow.media.download-and-transcribe",
      "example": "node capabilities/workflows/media/download-and-transcribe.js --url 'https://example.com/video.mp4' --language pt",
      "description": "Download and transcribe a single video file."
    }
  }
}
